{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\richg\\\\Documents\\\\Projects\\\\Op_Tracker\\\\client\\\\src\\\\components\\\\TrackerTable.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useContext } from 'react';\nimport operFinder from '../apis/operFinder';\nimport { OperContext } from '../context/OperContext';\nimport { useTable, useSortBy, useFilters, useGlobalFilter, useAsyncDebounce } from 'react-table';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst TrackerTable = () => {\n  _s();\n\n  // Call upon the commodities state object from with the Table\n  // (all server fetching and updating will occurs in this component vice the TrackerChart)\n  const {\n    commodities,\n    setCommodities,\n    addCommodities\n  } = useContext(OperContext); // Define a state for saving the id of the commodity information for updating the database\n\n  const [commID, setCommID] = useState(1); // Define a state for saving identifying when the Tracker Data is loaded to know when to show data\n\n  const [isLoaded, setIsLoaded] = useState(false); // Fetch commidity data from tracker table in database, saving to the commodities context\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        // The axios get request is added to the baseURL value\n        const response = await operFinder.get(\"api/v1/tracker/\");\n        setCommodities(response.data.data);\n        setIsLoaded(true);\n      } catch (e) {\n        console.log(e);\n      }\n\n      ;\n    };\n\n    fetchData();\n  }, []); // Define function for deleting a record from database\n\n  const handleDelete = async (e, id) => {\n    try {\n      const response = await operFinder.delete(`api/v1/tracker/${id}`);\n      console.log(\"Commodity successfully deleted\");\n      setCommodities(commodities.filter(commodity => {\n        return commodity.id !== id;\n      }));\n    } catch (e) {\n      console.log(e);\n    }\n\n    ;\n  }; // A function for the table rows (interating through each commodity in commodities, and each value in each commodity)\n\n\n  const tableBody = () => {\n    // Initialize an empty array to store every row of entries\n    let bodyList = [];\n    commodities.map(commodity => {\n      let feature_list = []; // For each feature in each commodity, add to the feature to list and push to bodyList \n\n      Object.keys(commodity).map(feature_key => feature_list.push( /*#__PURE__*/_jsxDEV(\"td\", {\n        children: commodity[feature_key]\n      }, commodity.id.toString() + feature_key, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }, this)));\n      bodyList.push( /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: feature_list\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 27\n      }, this));\n    });\n    return bodyList;\n  }; // Define a function that only runs after the data \n  // Define list of objects to coincide with ReactTable Format - Changes to Tracker table (adding a column) must be reflected here\n\n\n  const columns = React.useMemo(() => [{\n    Header: 'AAA',\n    accessor: 'AAA'\n  }, {\n    Header: 'BBB',\n    accessor: 'BBB'\n  }, {\n    Header: 'CCC',\n    accessor: 'CCC'\n  }, {\n    Header: 'DDD',\n    accessor: 'DDD'\n  }, {\n    Header: 'EEE',\n    accessor: 'EEE'\n  }, {\n    Header: 'FFF',\n    accessor: 'FFF'\n  }, {\n    Header: 'GGG',\n    accessor: 'GGG'\n  }, {\n    Header: 'HHH',\n    accessor: 'HHH'\n  }, {\n    Header: 'III',\n    accessor: 'III'\n  }, {\n    Header: 'JJJ',\n    accessor: 'JJJ'\n  }, {\n    Header: 'KKK',\n    accessor: 'KKK'\n  }, {\n    Header: 'LLL',\n    accessor: 'LLL'\n  }, {\n    Header: 'MMM',\n    accessor: 'MMM'\n  }, {\n    Header: 'NNN',\n    accessor: 'NNN'\n  }, {\n    Header: 'OOO',\n    accessor: 'OOO'\n  }, {\n    Header: 'PPP',\n    accessor: 'PPP'\n  }, {\n    Header: 'QQQ',\n    accessor: 'QQQ'\n  }, {\n    Header: 'RRR',\n    accessor: 'RRR'\n  }, {\n    Header: 'SSS',\n    accessor: 'SSS'\n  }, {\n    Header: 'TTT',\n    accessor: 'TTT'\n  }, {\n    Header: 'UUU',\n    accessor: 'UUU'\n  }], []); //const data = React.useMemo(() => commodities);\n  // define the Table structure with the useTable hook\n\n  const {\n    getTableProps,\n    getTableBodyProps,\n    rows,\n    prepareRow\n  } = useTable({\n    columns,\n    commodities //defaultColumn, // Be sure to pass the defaultColumn option\n\n  }); // Define a custom function for rendering Tracker Table (necessary for small time before fetch request of data)\n\n  const renderTable = () => {\n    if (!isLoaded) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Loading\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 20\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"table\", { ...getTableProps(),\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: headerGroups.map(headerGroup => /*#__PURE__*/_jsxDEV(\"tr\", { ...headerGroup.getHeaderGroupProps(),\n            children: headerGroup.headers.map(column => /*#__PURE__*/_jsxDEV(\"th\", { ...column.getHeaderProps(),\n              children: column.render(\"Header\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 37\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", { ...getTableBodyProps(),\n          children: rows.map((row, i) => {\n            prepareRow(row);\n            return /*#__PURE__*/_jsxDEV(\"tr\", { ...row.getRowProps(),\n              children: row.cells.map(cell => {\n                return /*#__PURE__*/_jsxDEV(\"td\", { ...cell.getCellProps(),\n                  children: cell.render(\"Cell\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 44\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 33\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }, this);\n    }\n  };\n\n  const userTable = () => {\n    if (!isLoaded) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Loading\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 20\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"table\", { ...getTableProps(),\n          style: {\n            border: 'solid 1px black'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: [headerGroups.map(headerGroup => /*#__PURE__*/_jsxDEV(\"tr\", { ...headerGroup.getHeaderGroupProps(),\n              children: headerGroup.headers.map(column => /*#__PURE__*/_jsxDEV(\"th\", { ...column.getHeaderProps(column.getSortByToggleProps()),\n                style: {\n                  borderBottom: 'solid 3px red',\n                  color: 'black'\n                },\n                children: [column.render('Header'), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: column.isSorted ? column.isSortedDesc ? 'ğŸ”½' : 'ğŸ”¼' : ''\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: column.canFilter ? column.render('Filter') : null\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 185,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 29\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 25\n            }, this)), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: /*#__PURE__*/_jsxDEV(\"th\", {\n                colSpan: visibleColumns.length,\n                style: {\n                  textAlign: 'left'\n                },\n                children: /*#__PURE__*/_jsxDEV(GlobalFilter, {\n                  preGlobalFilteredRows: preGlobalFilteredRows,\n                  globalFilter: state.globalFilter,\n                  setGlobalFilter: setGlobalFilter\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", { ...getTableBodyProps(),\n            children: rows.map(row => {\n              prepareRow(row);\n              return /*#__PURE__*/_jsxDEV(\"tr\", { ...row.getRowProps(),\n                children: row.cells.map(cell => {\n                  return /*#__PURE__*/_jsxDEV(\"td\", { ...cell.getCellProps(),\n                    style: {\n                      padding: '10px',\n                      border: 'solid 1px gray'\n                    },\n                    children: cell.render('Cell')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 212,\n                    columnNumber: 33\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 25\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 17\n      }, this);\n    }\n\n    ;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Tabular Technical Operations Data\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 9\n    }, this), renderTable()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 232,\n    columnNumber: 13\n  }, this);\n};\n\n_s(TrackerTable, \"rBV0/grtbvsSvatXL/Z/cHR8ZAE=\", false, function () {\n  return [useTable];\n});\n\n_c = TrackerTable;\nexport default TrackerTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"TrackerTable\");","map":{"version":3,"sources":["C:/Users/richg/Documents/Projects/Op_Tracker/client/src/components/TrackerTable.jsx"],"names":["React","useEffect","useState","useContext","operFinder","OperContext","useTable","useSortBy","useFilters","useGlobalFilter","useAsyncDebounce","TrackerTable","commodities","setCommodities","addCommodities","commID","setCommID","isLoaded","setIsLoaded","fetchData","response","get","data","e","console","log","handleDelete","id","delete","filter","commodity","tableBody","bodyList","map","feature_list","Object","keys","feature_key","push","toString","columns","useMemo","Header","accessor","getTableProps","getTableBodyProps","rows","prepareRow","renderTable","headerGroups","headerGroup","getHeaderGroupProps","headers","column","getHeaderProps","render","row","i","getRowProps","cells","cell","getCellProps","userTable","border","getSortByToggleProps","borderBottom","color","isSorted","isSortedDesc","canFilter","visibleColumns","length","textAlign","preGlobalFilteredRows","state","globalFilter","setGlobalFilter","padding"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,UAArC,QAAuD,OAAvD;AACA,OAAOC,UAAP,MAAuB,oBAAvB;AACA,SAASC,WAAT,QAA4B,wBAA5B;AACA,SAASC,QAAT,EAAmBC,SAAnB,EAA8BC,UAA9B,EAA0CC,eAA1C,EAA2DC,gBAA3D,QAAmF,aAAnF;;;AAEA,MAAMC,YAAY,GAAG,MAAM;AAAA;;AAEvB;AACA;AACA,QAAM;AAAEC,IAAAA,WAAF;AAAeC,IAAAA,cAAf;AAA+BC,IAAAA;AAA/B,MAAkDX,UAAU,CAACE,WAAD,CAAlE,CAJuB,CAMvB;;AACA,QAAM,CAAEU,MAAF,EAAUC,SAAV,IAAwBd,QAAQ,CAAC,CAAD,CAAtC,CAPuB,CAQvB;;AACA,QAAM,CAAEe,QAAF,EAAYC,WAAZ,IAA4BhB,QAAQ,CAAC,KAAD,CAA1C,CATuB,CAWvB;;AACAD,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMkB,SAAS,GAAG,YAAY;AAC1B,UAAI;AACA;AACA,cAAMC,QAAQ,GAAG,MAAMhB,UAAU,CAACiB,GAAX,CAAe,iBAAf,CAAvB;AACAR,QAAAA,cAAc,CAACO,QAAQ,CAACE,IAAT,CAAcA,IAAf,CAAd;AACAJ,QAAAA,WAAW,CAAC,IAAD,CAAX;AACH,OALD,CAKE,OAAOK,CAAP,EAAU;AACRC,QAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACH;;AAAA;AACJ,KATD;;AAUAJ,IAAAA,SAAS;AACZ,GAZQ,EAYN,EAZM,CAAT,CAZuB,CA0BvB;;AACA,QAAMO,YAAY,GAAG,OAAOH,CAAP,EAAUI,EAAV,KAAiB;AAClC,QAAI;AACA,YAAMP,QAAQ,GAAG,MAAMhB,UAAU,CAACwB,MAAX,CAAmB,kBAAiBD,EAAG,EAAvC,CAAvB;AACAH,MAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ;AACAZ,MAAAA,cAAc,CAACD,WAAW,CAACiB,MAAZ,CAAmBC,SAAS,IAAI;AAC3C,eAAOA,SAAS,CAACH,EAAV,KAAiBA,EAAxB;AACH,OAFc,CAAD,CAAd;AAGH,KAND,CAME,OAAOJ,CAAP,EAAU;AACRC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACH;;AAAA;AACJ,GAVD,CA3BuB,CAuCvB;;;AACA,QAAMQ,SAAS,GAAG,MAAM;AACpB;AACA,QAAIC,QAAQ,GAAG,EAAf;AACApB,IAAAA,WAAW,CAACqB,GAAZ,CAAgBH,SAAS,IAAI;AACzB,UAAII,YAAY,GAAG,EAAnB,CADyB,CAEzB;;AACAC,MAAAA,MAAM,CAACC,IAAP,CAAYN,SAAZ,EAAuBG,GAAvB,CAA2BI,WAAW,IAClCH,YAAY,CAACI,IAAb,eACI;AAAA,kBACKR,SAAS,CAACO,WAAD;AADd,SAAUP,SAAS,CAACH,EAAV,CAAaY,QAAb,KAAwBF,WAAlC;AAAA;AAAA;AAAA;AAAA,cADJ,CADJ;AAOAL,MAAAA,QAAQ,CAACM,IAAT,eAAc;AAAA,kBAAKJ;AAAL;AAAA;AAAA;AAAA;AAAA,cAAd;AACH,KAXD;AAaA,WAAOF,QAAP;AACH,GAjBD,CAxCuB,CA2DvB;AAEA;;;AACA,QAAMQ,OAAO,GAAGxC,KAAK,CAACyC,OAAN,CAAc,MAAM,CAChC;AAAIC,IAAAA,MAAM,EAAE,KAAZ;AACIC,IAAAA,QAAQ,EAAE;AADd,GADgC,EAGhC;AAAID,IAAAA,MAAM,EAAE,KAAZ;AACIC,IAAAA,QAAQ,EAAE;AADd,GAHgC,EAKhC;AAAID,IAAAA,MAAM,EAAE,KAAZ;AACIC,IAAAA,QAAQ,EAAE;AADd,GALgC,EAOhC;AAAID,IAAAA,MAAM,EAAE,KAAZ;AACIC,IAAAA,QAAQ,EAAE;AADd,GAPgC,EAShC;AAAID,IAAAA,MAAM,EAAE,KAAZ;AACIC,IAAAA,QAAQ,EAAE;AADd,GATgC,EAWhC;AAAID,IAAAA,MAAM,EAAE,KAAZ;AACIC,IAAAA,QAAQ,EAAE;AADd,GAXgC,EAahC;AAAID,IAAAA,MAAM,EAAE,KAAZ;AACIC,IAAAA,QAAQ,EAAE;AADd,GAbgC,EAehC;AAAID,IAAAA,MAAM,EAAE,KAAZ;AACIC,IAAAA,QAAQ,EAAE;AADd,GAfgC,EAiBhC;AAAID,IAAAA,MAAM,EAAE,KAAZ;AACIC,IAAAA,QAAQ,EAAE;AADd,GAjBgC,EAmBhC;AAAID,IAAAA,MAAM,EAAE,KAAZ;AACIC,IAAAA,QAAQ,EAAE;AADd,GAnBgC,EAqBhC;AAAID,IAAAA,MAAM,EAAE,KAAZ;AACIC,IAAAA,QAAQ,EAAE;AADd,GArBgC,EAuBhC;AAAID,IAAAA,MAAM,EAAE,KAAZ;AACIC,IAAAA,QAAQ,EAAE;AADd,GAvBgC,EAyBhC;AAAID,IAAAA,MAAM,EAAE,KAAZ;AACIC,IAAAA,QAAQ,EAAE;AADd,GAzBgC,EA2BhC;AAAID,IAAAA,MAAM,EAAE,KAAZ;AACIC,IAAAA,QAAQ,EAAE;AADd,GA3BgC,EA6BhC;AAAID,IAAAA,MAAM,EAAE,KAAZ;AACIC,IAAAA,QAAQ,EAAE;AADd,GA7BgC,EA+BhC;AAAID,IAAAA,MAAM,EAAE,KAAZ;AACIC,IAAAA,QAAQ,EAAE;AADd,GA/BgC,EAiChC;AAAID,IAAAA,MAAM,EAAE,KAAZ;AACIC,IAAAA,QAAQ,EAAE;AADd,GAjCgC,EAmChC;AAAID,IAAAA,MAAM,EAAE,KAAZ;AACIC,IAAAA,QAAQ,EAAE;AADd,GAnCgC,EAqChC;AAAID,IAAAA,MAAM,EAAE,KAAZ;AACIC,IAAAA,QAAQ,EAAE;AADd,GArCgC,EAuChC;AAAID,IAAAA,MAAM,EAAE,KAAZ;AACIC,IAAAA,QAAQ,EAAE;AADd,GAvCgC,EAyChC;AAAID,IAAAA,MAAM,EAAE,KAAZ;AACIC,IAAAA,QAAQ,EAAE;AADd,GAzCgC,CAApB,EA2Cb,EA3Ca,CAAhB,CA9DuB,CA2GvB;AAEA;;AACA,QAAM;AACFC,IAAAA,aADE;AAEFC,IAAAA,iBAFE;AAGFC,IAAAA,IAHE;AAIFC,IAAAA;AAJE,MAKFzC,QAAQ,CAAC;AACTkC,IAAAA,OADS;AAET5B,IAAAA,WAFS,CAGT;;AAHS,GAAD,CALZ,CA9GuB,CAyHvB;;AACA,QAAMoC,WAAW,GAAG,MAAM;AACtB,QAAI,CAAC/B,QAAL,EAAe;AACX,0BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;AACH,KAFD,MAEO;AACH,0BACI,sBAAW2B,aAAa,EAAxB;AAAA,gCACI;AAAA,oBACKK,YAAY,CAAChB,GAAb,CAAiBiB,WAAW,iBACzB,mBAAQA,WAAW,CAACC,mBAAZ,EAAR;AAAA,sBACKD,WAAW,CAACE,OAAZ,CAAoBnB,GAApB,CAAwBoB,MAAM,iBAC3B,mBAAQA,MAAM,CAACC,cAAP,EAAR;AAAA,wBAAkCD,MAAM,CAACE,MAAP,CAAc,QAAd;AAAlC;AAAA;AAAA;AAAA;AAAA,oBADH;AADL;AAAA;AAAA;AAAA;AAAA,kBADH;AADL;AAAA;AAAA;AAAA;AAAA,gBADJ,eAUI,sBAAWV,iBAAiB,EAA5B;AAAA,oBACKC,IAAI,CAACb,GAAL,CAAS,CAACuB,GAAD,EAAMC,CAAN,KAAY;AAClBV,YAAAA,UAAU,CAACS,GAAD,CAAV;AACA,gCACI,mBAAQA,GAAG,CAACE,WAAJ,EAAR;AAAA,wBACCF,GAAG,CAACG,KAAJ,CAAU1B,GAAV,CAAc2B,IAAI,IAAI;AACnB,oCAAO,mBAAQA,IAAI,CAACC,YAAL,EAAR;AAAA,4BAA8BD,IAAI,CAACL,MAAL,CAAY,MAAZ;AAA9B;AAAA;AAAA;AAAA;AAAA,wBAAP;AACH,eAFA;AADD;AAAA;AAAA;AAAA;AAAA,oBADJ;AAOH,WATA;AADL;AAAA;AAAA;AAAA;AAAA,gBAVJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ;AAwBE;AACL,GA7BL;;AA+BA,QAAMO,SAAS,GAAG,MAAM;AACpB,QAAI,CAAC7C,QAAL,EAAe;AACX,0BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;AACH,KAFD,MAEO;AACH,0BACI;AAAA,+BACA,sBAAW2B,aAAa,EAAxB;AAA4B,UAAA,KAAK,EAAE;AAAEmB,YAAAA,MAAM,EAAE;AAAV,WAAnC;AAAA,kCACI;AAAA,uBACCd,YAAY,CAAChB,GAAb,CAAiBiB,WAAW,iBACzB,mBAAQA,WAAW,CAACC,mBAAZ,EAAR;AAAA,wBACCD,WAAW,CAACE,OAAZ,CAAoBnB,GAApB,CAAwBoB,MAAM,iBAC3B,mBACQA,MAAM,CAACC,cAAP,CAAsBD,MAAM,CAACW,oBAAP,EAAtB,CADR;AAEI,gBAAA,KAAK,EAAE;AACHC,kBAAAA,YAAY,EAAE,eADX;AAEHC,kBAAAA,KAAK,EAAE;AAFJ,iBAFX;AAAA,2BAOKb,MAAM,CAACE,MAAP,CAAc,QAAd,CAPL,eAQI;AAAA,4BACCF,MAAM,CAACc,QAAP,GACKd,MAAM,CAACe,YAAP,GACI,IADJ,GAEI,IAHT,GAIK;AALN;AAAA;AAAA;AAAA;AAAA,wBARJ,eAeA;AAAA,4BAAMf,MAAM,CAACgB,SAAP,GAAmBhB,MAAM,CAACE,MAAP,CAAc,QAAd,CAAnB,GAA6C;AAAnD;AAAA;AAAA;AAAA;AAAA,wBAfA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADH;AADD;AAAA;AAAA;AAAA;AAAA,oBADH,CADD,eAwBA;AAAA,qCACA;AACI,gBAAA,OAAO,EAAEe,cAAc,CAACC,MAD5B;AAEI,gBAAA,KAAK,EAAE;AACPC,kBAAAA,SAAS,EAAE;AADJ,iBAFX;AAAA,uCAMI,QAAC,YAAD;AACA,kBAAA,qBAAqB,EAAEC,qBADvB;AAEA,kBAAA,YAAY,EAAEC,KAAK,CAACC,YAFpB;AAGA,kBAAA,eAAe,EAAEC;AAHjB;AAAA;AAAA;AAAA;AAAA;AANJ;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,oBAxBA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAwCI,sBAAW/B,iBAAiB,EAA5B;AAAA,sBACCC,IAAI,CAACb,GAAL,CAASuB,GAAG,IAAI;AACjBT,cAAAA,UAAU,CAACS,GAAD,CAAV;AACA,kCACI,mBAAQA,GAAG,CAACE,WAAJ,EAAR;AAAA,0BACKF,GAAG,CAACG,KAAJ,CAAU1B,GAAV,CAAc2B,IAAI,IAAI;AACvB,sCACI,mBACQA,IAAI,CAACC,YAAL,EADR;AAEI,oBAAA,KAAK,EAAE;AACHgB,sBAAAA,OAAO,EAAE,MADN;AAEHd,sBAAAA,MAAM,EAAE;AAFL,qBAFX;AAAA,8BAMKH,IAAI,CAACL,MAAL,CAAY,MAAZ;AANL;AAAA;AAAA;AAAA;AAAA,0BADJ;AAUC,iBAXA;AADL;AAAA;AAAA;AAAA;AAAA,sBADJ;AAgBC,aAlBA;AADD;AAAA;AAAA;AAAA;AAAA,kBAxCJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,cADJ;AAkEP;;AAAA;AAAE,GAtEH;;AAyEA,sBAAQ;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA,4BACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADI,EAEHP,WAAW,EAFR;AAAA;AAAA;AAAA;AAAA;AAAA,UAAR;AAIH,CAtOD;;GAAMrC,Y;UAmHEL,Q;;;KAnHFK,Y;AAwON,eAAeA,YAAf","sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\r\nimport operFinder from '../apis/operFinder';\r\nimport { OperContext } from '../context/OperContext';\r\nimport { useTable, useSortBy, useFilters, useGlobalFilter, useAsyncDebounce } from 'react-table';\r\n\r\nconst TrackerTable = () => {\r\n\r\n    // Call upon the commodities state object from with the Table\r\n    // (all server fetching and updating will occurs in this component vice the TrackerChart)\r\n    const { commodities, setCommodities, addCommodities } = useContext(OperContext);\r\n\r\n    // Define a state for saving the id of the commodity information for updating the database\r\n    const [ commID, setCommID ] = useState(1)\r\n    // Define a state for saving identifying when the Tracker Data is loaded to know when to show data\r\n    const [ isLoaded, setIsLoaded ] = useState(false)\r\n\r\n    // Fetch commidity data from tracker table in database, saving to the commodities context\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                // The axios get request is added to the baseURL value\r\n                const response = await operFinder.get(\"api/v1/tracker/\");\r\n                setCommodities(response.data.data);\r\n                setIsLoaded(true);\r\n            } catch (e) {\r\n                console.log(e);\r\n            };\r\n        };\r\n        fetchData();\r\n    }, []);\r\n\r\n    // Define function for deleting a record from database\r\n    const handleDelete = async (e, id) => {\r\n        try {\r\n            const response = await operFinder.delete(`api/v1/tracker/${id}`);\r\n            console.log(\"Commodity successfully deleted\");\r\n            setCommodities(commodities.filter(commodity => {\r\n                return commodity.id !== id;\r\n            }));\r\n        } catch (e) {\r\n            console.log(e);\r\n        };\r\n    };\r\n\r\n    // A function for the table rows (interating through each commodity in commodities, and each value in each commodity)\r\n    const tableBody = () => {\r\n        // Initialize an empty array to store every row of entries\r\n        let bodyList = [];\r\n        commodities.map(commodity => {\r\n            let feature_list = [];\r\n            // For each feature in each commodity, add to the feature to list and push to bodyList \r\n            Object.keys(commodity).map(feature_key => (\r\n                feature_list.push(\r\n                    <td key={(commodity.id.toString()+feature_key)}>\r\n                        {commodity[feature_key]}\r\n                    </td>\r\n                )\r\n            ));\r\n            bodyList.push(<tr>{feature_list}</tr>);\r\n        })\r\n        \r\n        return bodyList;\r\n    };\r\n    \r\n    // Define a function that only runs after the data \r\n\r\n    // Define list of objects to coincide with ReactTable Format - Changes to Tracker table (adding a column) must be reflected here\r\n    const columns = React.useMemo(() => [\r\n        {   Header: 'AAA',\r\n            accessor: 'AAA'},\r\n        {   Header: 'BBB',\r\n            accessor: 'BBB'},\r\n        {   Header: 'CCC',\r\n            accessor: 'CCC'},\r\n        {   Header: 'DDD',\r\n            accessor: 'DDD'},\r\n        {   Header: 'EEE',\r\n            accessor: 'EEE'},\r\n        {   Header: 'FFF',\r\n            accessor: 'FFF'},\r\n        {   Header: 'GGG',\r\n            accessor: 'GGG'},\r\n        {   Header: 'HHH',\r\n            accessor: 'HHH'},\r\n        {   Header: 'III',\r\n            accessor: 'III'},\r\n        {   Header: 'JJJ',\r\n            accessor: 'JJJ'},\r\n        {   Header: 'KKK',\r\n            accessor: 'KKK'},\r\n        {   Header: 'LLL',\r\n            accessor: 'LLL'},\r\n        {   Header: 'MMM',\r\n            accessor: 'MMM'},\r\n        {   Header: 'NNN',\r\n            accessor: 'NNN'},\r\n        {   Header: 'OOO',\r\n            accessor: 'OOO'},\r\n        {   Header: 'PPP',\r\n            accessor: 'PPP'},\r\n        {   Header: 'QQQ',\r\n            accessor: 'QQQ'},\r\n        {   Header: 'RRR',\r\n            accessor: 'RRR'},\r\n        {   Header: 'SSS',\r\n            accessor: 'SSS'},\r\n        {   Header: 'TTT',\r\n            accessor: 'TTT'},\r\n        {   Header: 'UUU',\r\n            accessor: 'UUU'}\r\n    ], []);\r\n    \r\n    //const data = React.useMemo(() => commodities);\r\n    \r\n    // define the Table structure with the useTable hook\r\n    const {\r\n        getTableProps,\r\n        getTableBodyProps,\r\n        rows,\r\n        prepareRow,\r\n    } = useTable({\r\n        columns,\r\n        commodities\r\n        //defaultColumn, // Be sure to pass the defaultColumn option\r\n        });\r\n\r\n    // Define a custom function for rendering Tracker Table (necessary for small time before fetch request of data)\r\n    const renderTable = () => {\r\n        if (!isLoaded) {\r\n            return <div>Loading</div>\r\n        } else {\r\n            return (\r\n                <table {...getTableProps()}>\r\n                    <thead>\r\n                        {headerGroups.map(headerGroup => (\r\n                            <tr {...headerGroup.getHeaderGroupProps()}>\r\n                                {headerGroup.headers.map(column => (\r\n                                    <th {...column.getHeaderProps()}>{column.render(\"Header\")}</th>\r\n                                ))}\r\n                            </tr>\r\n                        ))}\r\n                    </thead>\r\n                    <tbody {...getTableBodyProps()}>\r\n                        {rows.map((row, i) => {\r\n                            prepareRow(row);\r\n                            return (\r\n                                <tr {...row.getRowProps()}>\r\n                                {row.cells.map(cell => {\r\n                                    return <td {...cell.getCellProps()}>{cell.render(\"Cell\")}</td>;\r\n                                })}\r\n                                </tr>\r\n                            );\r\n                        })}\r\n                    </tbody>\r\n                </table>\r\n            )}\r\n        };\r\n\r\n    const userTable = () => {\r\n        if (!isLoaded) {\r\n            return <div>Loading</div>\r\n        } else {\r\n            return (\r\n                <div>\r\n                <table {...getTableProps()} style={{ border: 'solid 1px black' }}>\r\n                    <thead>\r\n                    {headerGroups.map(headerGroup => (\r\n                        <tr {...headerGroup.getHeaderGroupProps()}>\r\n                        {headerGroup.headers.map(column => (\r\n                            <th\r\n                                {...column.getHeaderProps(column.getSortByToggleProps())}\r\n                                style={{\r\n                                    borderBottom: 'solid 3px red',\r\n                                    color: 'black',\r\n                                }}\r\n                            >\r\n                                {column.render('Header')}\r\n                                <span>\r\n                                {column.isSorted\r\n                                    ? column.isSortedDesc\r\n                                        ? 'ğŸ”½'\r\n                                        : 'ğŸ”¼'\r\n                                    : ''}\r\n                            </span>\r\n                            <div>{column.canFilter ? column.render('Filter') : null}</div>\r\n                            </th>\r\n                        ))}\r\n                        </tr>\r\n                    ))}\r\n                    <tr>\r\n                    <th\r\n                        colSpan={visibleColumns.length}\r\n                        style={{\r\n                        textAlign: 'left',\r\n                        }}\r\n                    >\r\n                        <GlobalFilter\r\n                        preGlobalFilteredRows={preGlobalFilteredRows}\r\n                        globalFilter={state.globalFilter}\r\n                        setGlobalFilter={setGlobalFilter}\r\n                        />\r\n                    </th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody {...getTableBodyProps()}>\r\n                    {rows.map(row => {\r\n                    prepareRow(row)\r\n                    return (\r\n                        <tr {...row.getRowProps()}>\r\n                            {row.cells.map(cell => {\r\n                            return (\r\n                                <td\r\n                                    {...cell.getCellProps()}\r\n                                    style={{\r\n                                        padding: '10px',\r\n                                        border: 'solid 1px gray',\r\n                                    }}>\r\n                                    {cell.render('Cell')}\r\n                                </td>\r\n                            )\r\n                            })}\r\n                        </tr>\r\n                    )\r\n                    })}\r\n                    </tbody>\r\n                </table>\r\n                </div>\r\n            );\r\n    };};\r\n\r\n\r\n    return (<div className='main'>\r\n        <h2>Tabular Technical Operations Data</h2>\r\n        {renderTable()}        \r\n    </div>);\r\n};\r\n\r\nexport default TrackerTable;"]},"metadata":{},"sourceType":"module"}